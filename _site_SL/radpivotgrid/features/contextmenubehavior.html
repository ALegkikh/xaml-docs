<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>FieldList ContextMenuBehavior</title>
        <link rel="shortcut icon" href="/devtools/silverlight/favicon.ico"/>
        <meta name="description" content="FieldList ContextMenuBehavior">
        <link href="http://cdn.kendostatic.com/2014.2.716/styles/kendo.common.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="/devtools/silverlight/assets/styles-5bdcfd475585f36df16a95e0457f2f6f.css">
        <link rel="stylesheet" href="/devtools/silverlight/assets/theme-d2ae4bb8495446e1d4605832601ddc1a.css">
        <link rel="stylesheet" href="/devtools/silverlight/assets/branding-a6bed66550d3e9b437d7b25da3bd997a.css">
        <link rel="stylesheet" href="/devtools/silverlight/assets/highlight-49ceada082f1c903edb130c25d09cf1f.css">
        <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="http://cdn.kendostatic.com/2014.2.716/js/kendo.web.min.js"></script>
        <script src="/devtools/silverlight/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/silverlight/assets/app-552278fa51da4b2d25adc25f9fec90be.js"></script>
		<script src="/devtools/silverlight/assets/prettify-31f05a2784b46b14f119862e47123f4c.js"></script>
        <script src="/devtools/silverlight/assets/branding-59377013fb75f02a1dbffd638033ef6d.js"></script>
    </head>
    <body class="faux-columns">
        <!-- Google Tag Manager -->
        <noscript>
            <iframe src="//www.googletagmanager.com/ns.html?id=GTM-6X92" height="0" width="0" style="display: none; visibility: hidden"></iframe>
        </noscript>
        <script>(function(w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-6X92');</script>
        <!-- End Google Tag Manager -->
        <header id="page-header">
             <div id="page-header">

	<div id="logo-bar-sl">
		<a href="http://www.telerik.com" target="_blank" title="UI for Silverlight">
			<span>UI for Silverlight</span>
		</a>
	</div> 



	<div id="page-search">
        <script>
  (function() {
    var cx = '001595215763381649090:eblhnfskwrk';
    var gcse = document.createElement('script');
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

    </div>
</div> 


        </header>

        <div id="page-inner-content">
    <div id="page-nav">
        <div id="page-tree"></div>
        <script>
        $("#page-tree").kendoTreeView({
            dataSource: {
                transport: {
                    read: {
                        url: "/devtools/silverlight/default.json",
                        dataType: "json"
                    }
                },
                schema: {
                    model: {
                        id: "path",
                        children: "items",
                        hasChildren: "items"
                    }
                }
            },
            select: preventParentSelection,
            template: navigationTemplate("/devtools/silverlight/"),
            dataBound: expandNavigation("radpivotgrid/features/contextmenubehavior.html")
        });
        </script>
    </div>

    <div id="page-article">
        <div id="page-top">
            <div id="page-breadcrumb">
                <ul><li class="link"><a href="/devtools/silverlight/introduction/index">Home</a></li><li class="link"><a href="/devtools/silverlight/radpivotgrid/overview">RadPivotGrid</a></li><li class="link"><a href="/devtools/silverlight/radpivotgrid/features/layouts">Features1</a></li><li>FieldList ContextMenuBehavior</li></ul>
            </div>
        </div>

        <article>
            <h1 id="fieldlist-contextmenubehavior"><a href="#fieldlist-contextmenubehavior">FieldList ContextMenuBehavior</a></h1>

<p>All of the context menus that appear in the <strong>PivotFieldList</strong> are generated by its FieldListContextMenuBehavior. <br>
        The <strong>PivotFieldList</strong> provides the option to inherit and modify its default FieldListContextMenuBehavior in order to implement custom context menu functionality<br>
        by adding or removing MenuItems.</p>

<h2 id="implementing-a-custom-fieldlistcontextmenubehavior"><a href="#implementing-a-custom-fieldlistcontextmenubehavior">Implementing a custom FieldListContextMenuBehavior</a></h2>

<p>In this article it will be demonstrated how to implement a custom FieldListContextMenuBehavior and modify the context menu for the PropertyGroupDescription items.<br>
          First thing you have to do is to create a custom class which inherits from the default <strong>FieldListContextMenuBehavior</strong>. Then you will need to<br>
          simply override the virtual <strong>CreateContextMenu</strong> method. Inside of that method you can get the default context menu by calling the base method.<br>
          So until this point your class should look like as shown below:</p>

<h4><strong>C#</strong></h4>

<pre><code>public class CustomContextMenuBehavior : FieldListContextMenuBehavior
{
    protected override RadContextMenu CreateContextMenu(object dataContext)
    {
        var contextMenu = base.CreateContextMenu(dataContext);
    }
}
</code></pre>

<h4><strong>VB</strong></h4>

<p>Having the default context menu will allow you to modify it as needed, for example you will be able to remove MenuItems from there or add new ones and attach custom commands to them.<br>
          Let's imagine that you just need to remove the MenuItem for the Label Filter options and add a new one which is just showing a MessageBox. This should be done the following way:</p>

<h4><strong>C#</strong></h4>

<pre><code>protected override RadContextMenu CreateContextMenu(object dataContext)
{
    var contextMenu = base.CreateContextMenu(dataContext);
    if (dataContext is PropertyGroupDescription)
    {
        var itemToRemove = contextMenu.Items.FirstOrDefault(i =&gt; (i as RadMenuItem).Header != null &amp;&amp; (i as RadMenuItem).Header.Equals("Label Filter"));

        if (itemToRemove != null)
        {
            contextMenu.Items.Remove(itemToRemove);
        }

        contextMenu.Items.Add(new RadMenuItem { Header = "Custom Menu Item", Command = new DelegateCommand(OnCustomMenuItemClickExecute) });
    }
}

private void OnCustomMenuItemClickExecute(object obj)
{
    MessageBox.Show("Clicked");
}
</code></pre>

<h4><strong>VB</strong></h4>

<p>The final step is to set the custom behavior to the <strong>PivotFieldList</strong> the follow way:</p>

<h4><strong>XAML</strong></h4>

<pre><code>&lt;pivot:RadPivotFieldList x:Name="radPivotFieldList"&gt;
    &lt;pivot:FieldListContextMenuBehavior.Behavior&gt;
        &lt;local:CustomContextMenuBehavior /&gt;
    &lt;/pivot:FieldListContextMenuBehavior.Behavior&gt;
&lt;/pivot:RadPivotFieldList&gt;
</code></pre>

<p>The custom behavior can be also set in the code behind as shown below:</p>

<h4><strong>C#</strong></h4>

<pre><code>public MainPage()
{
    InitializeComponent();  

    var customContextMenuBehavior = new CustomContextMenuBehavior();
    FieldListContextMenuBehavior.SetBehavior(this.radPivotFieldList, customContextMenuBehavior);
}
</code></pre>

<h4><strong>VB</strong></h4>

<p>And this will be the final result:<br>
        <img src="images/RadPivotGrid_Features_ContextMenuBehavior_01.png" alt="Rad Pivot Grid Features Context Menu Behavior 01"></p>

<blockquote>
<p>You can use exactly the same approach in order to modify the context menu of the other description types. You will need to check whether the dataContext object is a type of<br>
            the desired group descripton (for example DoubleGroupDescription or AggregateDescriptionBase) and implement the required fucntionallity.</p>
</blockquote>

<blockquote class="tip"><p>You can download a runnable project which demonstrates more complex example from our online SDK repository </p></blockquote>

<pre><code>          [here](https://github.com/telerik/xaml-sdk), the example is listed as __PivotGrid / CustomContextMenuBehavior__. 
</code></pre>
        </article>
    </div>
</div>

<footer>
    <p>Copyright &copy; 2002-2014 Telerik. All rights reserved.</p>
</footer>


    </body>
</html>

